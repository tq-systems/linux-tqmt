// SPDX-License-Identifier: GPL-2.0-or-later
/*
 * Copyright (c) 2016-2023 TQ-Systems GmbH <license@tq-group.com>, D-82229 Seefeld, Germany.
 * Copyright 2014 Freescale Semiconductor Inc.
 * Author: Stefan Lange, Max Merchel, Gregor Herburger
 *
 */

#include <dt-bindings/net/ti-dp83867.h>
#include <dt-bindings/interrupt-controller/irq.h>
#include <dt-bindings/leds/leds-pca9532.h>
#include <dt-bindings/input/input.h>
#include <dt-bindings/gpio/gpio.h>

/ {
	gpio-leds {
		compatible = "gpio-leds";

		led1 {
			label = "LED1";
			gpios = <&gpio_exp_2 6 GPIO_ACTIVE_LOW>;
			linux,default-trigger = "heartbeat";
		};
		led2 {
			label = "LED2";
			gpios = <&gpio_exp_2 7 GPIO_ACTIVE_LOW>;
			linux,default-trigger = "heartbeat";
		};
		led3 {
			label = "LED3";
			gpios = <&gpio_exp_1 7 GPIO_ACTIVE_LOW>;
			linux,default-trigger = "heartbeat";
		};
	};

	gpio-keys {
		compatible = "gpio-keys";

		button1 {
			label = "S6";
			gpios = <&gpio_exp_0 0 GPIO_ACTIVE_HIGH>;
			linux,code = <KEY_1>;
		};
		button2 {
			label = "S7";
			gpios = <&gpio_exp_0 1 GPIO_ACTIVE_HIGH>;
			linux,code = <KEY_2>;
		};
		button3 {
			label = "S8";
			gpios = <&gpio_exp_0 2 GPIO_ACTIVE_HIGH>;
			linux,code = <KEY_3>;
		};
	};

	soc: soc@ffe000000 {
		i2c@118100 {
			pwm@60 {
				compatible = "nxp,pca9530";
				reg = <0x60>;
				led1@0 {
					label = "lcd";
					type = <PCA9532_TYPE_LED>;
					linux,default-trigger = "default-on";
				};
				led2@1 {
					label = "led2";
					type = <PCA9532_TYPE_LED>;
					linux,default-trigger = "heartbeat";
				};
			};
			gpio_exp_0: gpio@20 {
				compatible = "nxp,pca9554";
				reg = <0x20>;
				#gpio-cells = <2>;
				#interrupt-cells = <2>;
				interrupt-parent = <&mpic>;
				interrupts = <0 1 0 0>;
				interrupt-controller;
				gpio-controller;

			};
			gpio_exp_1: gpio@21 {
				compatible = "nxp,pca9554";
				reg = <0x21>;
				#gpio-cells = <2>;
				interrupt-parent = <&mpic>;
				interrupts = <4 1 0 0>;
				interrupt-controller;
				gpio-controller;
			};
			gpio_exp_2: gpio@22 {
				compatible = "nxp,pca9554";
				reg = <0x22>;
				gpio-controller;
				#gpio-cells = <2>;
			};
			gpio_exp_3: gpio@23 {
				compatible = "nxp,pca9554";
				reg = <0x23>;
				#gpio-cells = <2>;
				interrupt-parent = <&mpic>;
				interrupts = <10 1 0 0>;
				interrupt-controller;
			};
			touch_gpio: stmpe811@41 {
				compatible = "st,stmpe811";
				reg = <0x41>;
				interrupt-parent = <&mpic>;
				interrupts = <2 3 0 0>;
				gpio-controller;
				interrupt-controller;

				stmpe_touchscreen {
					compatible = "st,stmpe-ts";
					st,sample-time = <4>;
					st,mod-12b = <1>;
					st,ref-sel = <0>;
					st,adc-freq = <1>;
					st,ave-ctrl = <1>;
					st,touch-det-delay = <2>;
					st,settling = <2>;
					st,fraction-z = <7>;
					st,i-drive = <1>;
				};

				stmpe_gpio {
					compatible = "st,stmpe-gpio";
					gpio-controller;
					interrupt-controller;
				};
			};
		};
	};

};

&mdio0 {
	phy_rgmii_0: ethernet-phy@0e {
		reg = <0x0e>;
		ti,tx-internal-delay = <DP83867_RGMIIDCTL_2_50_NS>;
		ti,rx-internal-delay = <DP83867_RGMIIDCTL_2_00_NS>;
		ti,fifo-depth = <DP83867_PHYCR_FIFO_DEPTH_4_B_NIB>;
		ti,clk-output-sel = <DP83867_CLK_O_SEL_REF_CLK>;
	};

	phy_rgmii_1: ethernet-phy@05 {
		reg = <0x05>;
		ti,tx-internal-delay = <DP83867_RGMIIDCTL_2_50_NS>;
		ti,rx-internal-delay = <DP83867_RGMIIDCTL_2_00_NS>;
		ti,fifo-depth = <DP83867_PHYCR_FIFO_DEPTH_4_B_NIB>;
		ti,clk-output-sel = <DP83867_CLK_O_SEL_CHN_A_RCLK>;
	};

	phy_sgmii_0: ethernet-phy@1D {
		reg = <0x1D>;
	};

	phy_sgmii_1: ethernet-phy@03 {
		reg = <0x03>;
	};

	phy_sgmii_2: ethernet-phy@1C {
		reg = <0x1C>;
	};

	phy_sgmii_3: ethernet-phy@01 {
		reg = <0x01>;
	};
};
